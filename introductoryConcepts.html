<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    function main(){
        const canvas = document.getElementById("glCanvas");

        canvas.PutPixel();// Everything is in it.
        // const gl = canvas.getContext("webgl");

        // if(!gl){
        //   alert("Unable to initialize WebGL. Your browser or machine may not support it.");
        //   return;
        // }

        // gl.clearColor(0.0, 0.0, 0.0, 1.0);
        // gl.clear(gl.COLOR_BUFFER_BIT);

        // code in "Rendering our First Spheres"
        O = (0,0,0) //❶Place the camera and the viewport as desired
        for x = -Cw/2 to Cw/2 {
          for y = -Ch/2 to Ch/2{ // For each pixel on the canvas
            D = CanvasTpViewport(x,y) // ❷Determine which square on the viewport corresponds to this pixel
            color = TraceRay(O,D,1,inf) // ❸Determine the color seen through that square
            canvas.PutPixel(x,y,color) // ❹Paint the pixel with that color
          }
        }
        CanvasTpViewport(x,y){
          return (x*Vw/Cw, y*Vh/Ch, d)
        }
    }

    window.onload = main;

  </script>
</head>
<body>
  <!--
    书中的 color depth is 3*3 bytes
   -->
  <canvas id="rennderBox"></canvas>
</body>
</html>